# üìã –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ PHQ-9 –∏ GAD-7

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `Phq9Question` ‚Äî –º–æ–¥–µ–ª—å –≤–æ–ø—Ä–æ—Å–∞ PHQ-9
- ‚úÖ `Phq9Response` ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ (0-3 –±–∞–ª–ª–∞)
- ‚úÖ `Phq9Result` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º –±–∞–ª–ª–æ–≤
- ‚úÖ `Phq9Severity` ‚Äî —É—Ä–æ–≤–Ω–∏ —Ç—è–∂–µ—Å—Ç–∏ –¥–µ–ø—Ä–µ—Å—Å–∏–∏
- ‚úÖ `Gad7Question` ‚Äî –º–æ–¥–µ–ª—å –≤–æ–ø—Ä–æ—Å–∞ GAD-7
- ‚úÖ `Gad7Response` ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ (0-3 –±–∞–ª–ª–∞)
- ‚úÖ `Gad7Result` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º –±–∞–ª–ª–æ–≤
- ‚úÖ `Gad7Severity` ‚Äî —É—Ä–æ–≤–Ω–∏ —Ç—è–∂–µ—Å—Ç–∏ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏

### 2. –°–µ—Ä–≤–∏—Å—ã
- ‚úÖ `ClinicalTestService` ‚Äî —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Å—Ç–∞–º–∏
  - –ü–æ–¥—Å—á–µ—Ç –±–∞–ª–ª–æ–≤ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —à–∫–∞–ª–∞–º
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Firestore
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –ö—Ä–∏–∑–∏—Å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ

### 3. AI –∞–Ω–∞–ª–∏–∑
- ‚úÖ `GeminiService.analyzePhq9Result()` ‚Äî –∞–Ω–∞–ª–∏–∑ PHQ-9
- ‚úÖ `GeminiService.analyzeGad7Result()` ‚Äî –∞–Ω–∞–ª–∏–∑ GAD-7
- ‚úÖ –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- ‚úÖ –ö—Ä–∏–∑–∏—Å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ

### 4. Cloud Functions
- ‚úÖ `initPhq9Questions` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ PHQ-9
- ‚úÖ `initGad7Questions` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ GAD-7

### 5. Firestore Rules
- ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è `phq9_questions`
- ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è `phq9_results`
- ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è `gad7_questions`
- ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è `gad7_results`
- ‚úÖ –†–æ–¥–∏—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–≤–æ–∏—Ö –¥–µ—Ç–µ–π

### 6. UI —ç–∫—Ä–∞–Ω—ã
- ‚úÖ `Phq9TestScreen` ‚Äî —ç–∫—Ä–∞–Ω –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è PHQ-9
- ‚è≥ `Gad7TestScreen` ‚Äî —ç–∫—Ä–∞–Ω –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è GAD-7 (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å)
- ‚è≥ `Phq9ResultScreen` ‚Äî —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ PHQ-9 (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å)
- ‚è≥ `Gad7ResultScreen` ‚Äî —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ GAD-7 (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å)

---

## üìä –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à–∫–∞–ª—ã

### PHQ-9 (Patient Health Questionnaire-9)
**9 –≤–æ–ø—Ä–æ—Å–æ–≤, –∫–∞–∂–¥—ã–π –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è 0-3 –±–∞–ª–ª–∞**
- **0-4:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–µ–ø—Ä–µ—Å—Å–∏—è üü¢
- **5-9:** –õ–µ–≥–∫–∞—è –¥–µ–ø—Ä–µ—Å—Å–∏—è üü°
- **10-14:** –£–º–µ—Ä–µ–Ω–Ω–∞—è –¥–µ–ø—Ä–µ—Å—Å–∏—è üü†
- **15-19:** –£–º–µ—Ä–µ–Ω–Ω–æ-—Ç—è–∂–µ–ª–∞—è –¥–µ–ø—Ä–µ—Å—Å–∏—è üü†
- **20-27:** –¢—è–∂–µ–ª–∞—è –¥–µ–ø—Ä–µ—Å—Å–∏—è üî¥

**–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞:**
- 0 = –°–æ–≤—Å–µ–º –Ω–µ—Ç
- 1 = –ù–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π
- 2 = –ë–æ–ª—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã –¥–Ω–µ–π
- 3 = –ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

**‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä–∫–µ—Ä:** –í–æ–ø—Ä–æ—Å 9 (–æ —Å—É–∏—Ü–∏–¥–∞–ª—å–Ω—ã—Ö –º—ã—Å–ª—è—Ö) ‚Äî –µ—Å–ª–∏ –±–∞–ª–ª > 0, —ç—Ç–æ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø —Å–∏—Ç—É–∞—Ü–∏—è!

### GAD-7 (Generalized Anxiety Disorder-7)
**7 –≤–æ–ø—Ä–æ—Å–æ–≤, –∫–∞–∂–¥—ã–π –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è 0-3 –±–∞–ª–ª–∞**
- **0-4:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å üü¢
- **5-9:** –õ–µ–≥–∫–∞—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å üü°
- **10-14:** –£–º–µ—Ä–µ–Ω–Ω–∞—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å üü†
- **15-21:** –¢—è–∂–µ–ª–∞—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å üî¥

**–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞:**
- 0 = –°–æ–≤—Å–µ–º –Ω–µ—Ç
- 1 = –ù–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π
- 2 = –ë–æ–ª—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã –¥–Ω–µ–π
- 3 = –ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ Firestore

```bash
# PHQ-9
curl https://us-central1-anama-app.cloudfunctions.net/initPhq9Questions

# GAD-7
curl https://us-central1-anama-app.cloudfunctions.net/initGad7Questions
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ main.dart

```dart
GoRoute(
  path: '/phq9-test',
  builder: (context, state) => const Phq9TestScreen(),
),
GoRoute(
  path: '/phq9-result',
  builder: (context, state) {
    final result = state.extra as Phq9Result;
    return Phq9ResultScreen(result: result);
  },
),
GoRoute(
  path: '/gad7-test',
  builder: (context, state) => const Gad7TestScreen(),
),
GoRoute(
  path: '/gad7-result',
  builder: (context, state) {
    final result = state.extra as Gad7Result;
    return Gad7ResultScreen(result: result);
  },
),
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–¥—Ä–æ—Å—Ç–∫–∞

–í `teen_home_screen.dart` –¥–æ–±–∞–≤–∏—Ç—å:
```dart
ElevatedButton(
  onPressed: () => context.push('/phq9-test'),
  child: const Text('–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç PHQ-9'),
),
ElevatedButton(
  onPressed: () => context.push('/gad7-test'),
  child: const Text('–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç GAD-7'),
),
```

---

## üß† AI –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### PHQ-9 –∞–Ω–∞–ª–∏–∑ –≤–∫–ª—é—á–∞–µ—Ç:
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è —Ç—è–∂–µ—Å—Ç–∏ –ø–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- –ù—É–∂–Ω–∞ –ª–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
- –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –§—Ä–∞–∑—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –ö—Ä–∏–∑–∏—Å–Ω—ã–π —Ñ–ª–∞–≥

### GAD-7 –∞–Ω–∞–ª–∏–∑ –≤–∫–ª—é—á–∞–µ—Ç:
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è —Ç—è–∂–µ—Å—Ç–∏ –ø–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
- –ù—É–∂–Ω–∞ –ª–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
- –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –§—Ä–∞–∑—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –¢–µ—Ö–Ω–∏–∫–∏ —Ä–µ–ª–∞–∫—Å–∞—Ü–∏–∏
- –ö—Ä–∏–∑–∏—Å–Ω—ã–π —Ñ–ª–∞–≥

---

## üîî –ö—Ä–∏–∑–∏—Å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ

### PHQ-9:
- –¢—è–∂–µ–ª–∞—è –¥–µ–ø—Ä–µ—Å—Å–∏—è (20-27 –±–∞–ª–ª–æ–≤)
- –£–º–µ—Ä–µ–Ω–Ω–æ-—Ç—è–∂–µ–ª–∞—è –¥–µ–ø—Ä–µ—Å—Å–∏—è (15-19 –±–∞–ª–ª–æ–≤)
- **–õ—é–±–æ–π –±–∞–ª–ª –Ω–∞ –≤–æ–ø—Ä–æ—Å 9** (–æ —Å—É–∏—Ü–∏–¥–∞–ª—å–Ω—ã—Ö –º—ã—Å–ª—è—Ö)

### GAD-7:
- –¢—è–∂–µ–ª–∞—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å (15-21 –±–∞–ª–ª)

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫—Ä–∏–∑–∏—Å–∞:
1. –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `crisis_alerts`
2. –†–æ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
3. –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Firestore

### phq9_results
```json
{
  "userId": "user_id",
  "totalScore": 12,
  "questionScores": {
    "phq9_1": 2,
    "phq9_2": 1,
    ...
  },
  "severity": "moderate",
  "completedAt": "2024-01-01T00:00:00Z",
  "aiAnalysis": {...},
  "createdAt": "2024-01-01T00:00:00Z"
}
```

### gad7_results
```json
{
  "userId": "user_id",
  "totalScore": 8,
  "questionScores": {
    "gad7_1": 1,
    "gad7_2": 2,
    ...
  },
  "severity": "mild",
  "completedAt": "2024-01-01T00:00:00Z",
  "aiAnalysis": {...},
  "createdAt": "2024-01-01T00:00:00Z"
}
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ PHQ-9
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ GAD-7
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω GAD-7 —Ç–µ—Å—Ç–∞
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–¥—Ä–æ—Å—Ç–∫–∞
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã –≤ —Ä–æ—É—Ç–µ—Ä
6. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow
7. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π

---

## üìö –°—Å—ã–ª–∫–∏

- [PHQ-9 –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.phqscreeners.com/)
- [GAD-7 –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.phqscreeners.com/)
- [–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –æ—Ü–µ–Ω–∫–∏ –¥–µ–ø—Ä–µ—Å—Å–∏–∏ –∏ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1495268/)

---

## ‚úÖ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–µ—Ä–≤–∏—Å—ã
- ‚úÖ AI –∞–Ω–∞–ª–∏–∑
- ‚úÖ Cloud Functions
- ‚úÖ Firestore Rules
- ‚úÖ –≠–∫—Ä–∞–Ω PHQ-9 —Ç–µ—Å—Ç–∞
- ‚è≥ –≠–∫—Ä–∞–Ω GAD-7 —Ç–µ—Å—Ç–∞
- ‚è≥ –≠–∫—Ä–∞–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞!** üéâ

